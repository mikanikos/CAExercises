!Luglio 2016
.SECT .TEXT
start:
PUSH w
PUSH v
CALL copy
CALL check
MOV SP,BP
PUSH 0
PUSH 1
SYS
copy:
PUSH BP
MOV BP,SP
MOV SI,4(BP)
MOV DI,6(BP)
MOV CX,DI
SUB CX,SI
SHR CX,1
REP MOVSW
MOV SP,BP
POP BP
RET
check:
PUSH BP
MOV BP,SP
MOV SI,4(BP)
MOV DI,6(BP)
MOV CX,DI
SUB CX,SI
SHR CX,1
REPE CMPSW
JE 1f
MOV AX,0
JMP 2f
1:
MOV AX,1
2:
MOV SP,BP
POP BP
RET
.SECT .DATA
v: .WORD 1,2,3,4
w: .WORD 0,0,0,0
